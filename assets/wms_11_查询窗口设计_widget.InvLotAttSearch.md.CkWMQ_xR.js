import{_ as i,c as a,J as n,w as e,m as s,a as l,a6 as d,G as r,o as h}from"./chunks/framework.d-Ywx6yJ.js";const C=JSON.parse('{"title":"批属性查询","description":"","frontmatter":{"title":"批属性查询","desc":"批属性查询","name":"InvLotAttSearch","columnCount":12,"sqlId":"InvLotAttSearch","type":"widget","navIgnore":false,"tags":["wms/widget/InvLotAttSearch"]},"headers":[],"relativePath":"wms/11_查询窗口设计/widget.InvLotAttSearch.md","filePath":"wms/11_查询窗口设计/widget.InvLotAttSearch.md"}'),p={name:"wms/11_查询窗口设计/widget.InvLotAttSearch.md"},o=s("h2",{id:"库区检索",tabindex:"-1"},[l("库区检索 "),s("a",{class:"header-anchor",href:"#库区检索","aria-label":'Permalink to "库区检索"'},"​")],-1),k=s("p",null,"批属性查询",-1),c=s("p",null,"sqlId: InvLotAttSearch",-1),_=d(`<h3 id="sql" tabindex="-1">SQL <a class="header-anchor" href="#sql" aria-label="Permalink to &quot;SQL&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">item_code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">item_name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> inv_lot_att a</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">inner join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bas_item b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">on</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">item_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">item_id</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--@ or a.lot_id = #{old_lot_id}::numeric</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--@ and a.item_id = #{item_id}::numeric</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--@ and a.lot_id = #{lot_id}::numeric</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--% and (a.lot_no like #{lot_no} or a.production_date like #{lot_no} or a.valid_until like #{lot_no} or a.project_code like #{lot_no} or a.version like #{lot_no} or a.inventory_loc like #{lot_no})</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--@ and exists(select 1 from inv_loc_primary where a.lot_id = lot_id and primary_code = #{primary_code})</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">--@ and exists(select 1 from inv_lot_loc where a.lot_id = lot_id and loc_id = #{loc_id}::numeric)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="字段" tabindex="-1">字段 <a class="header-anchor" href="#字段" aria-label="Permalink to &quot;字段&quot;">​</a></h3><p>总共 <code>12</code> 个</p><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>lot_id</td><td>批属性id</td></tr><tr><td>parent_lot_id</td><td>上游批次ID</td></tr><tr><td>item_id</td><td>产品ID</td></tr><tr><td>pack_id</td><td>包装ID</td></tr><tr><td>item_code</td><td>商品编号</td></tr><tr><td>item_name</td><td>商品名称</td></tr><tr><td>lot_no</td><td>批号</td></tr><tr><td>production_date</td><td>生产日期</td></tr><tr><td>valid_until</td><td>有效期至</td></tr><tr><td>project_code</td><td>项目号</td></tr><tr><td>version</td><td>版本号</td></tr><tr><td>inventory_loc</td><td>库存地点</td></tr></tbody></table>`,5);function m(g,y,E,b,u,A){const t=r("YvCallOut");return h(),a("div",null,[o,n(t,{type:"widget",title:"InvLotAttSearch"},{default:e(()=>[k,c]),_:1}),_])}const F=i(p,[["render",m]]);export{C as __pageData,F as default};
